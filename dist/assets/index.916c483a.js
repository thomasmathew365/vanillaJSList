const f=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}};f();const y=e=>`
<span>${e}</span>
`,L=(e,r)=>e.insertAdjacentHTML("afterbegin",r),l=(e,r,n)=>{e&&e.animate([{transform:`translate(${r}px)`}],{duration:n,fill:"forwards"})},p=["fixed","z-20","inset-0","m-auto","flex","items-center","justify-center"],c=({state:e})=>r=>{if(r.stopPropagation(),e.selectedItem)return;const n=Number(r.target.getAttribute("data-id")),a=r.target,t=document.querySelector(`[data-id="${n-1}"]`),i=document.querySelector(`[data-id="${n+1}"]`);l(a,40,200),l(t,20,100),l(i,20,100)},m=()=>e=>{e.stopPropagation();const r=Number(e.target.getAttribute("data-id")),n=e.target,a=document.querySelector(`[data-id="${r-1}"]`),t=document.querySelector(`[data-id="${r+1}"]`);l(n,0,200),l(a,0,100),l(t,0,100)},v=({$:{list:e},removeListClickListener:r,removeListItemHoverListener:n,setState:a,state:t})=>i=>{i.stopPropagation(),r(e.lastChild),n(e.lastChild),e.removeChild(e.lastChild),a("list",t.list.slice(0,-1))},h=({$:e,createListItem:r,state:n,setState:a})=>t=>{t.stopPropagation();const{list:i}=e,s=i.childNodes.length;if(s>100)return;const d=r(s);d.animate([{opacity:0},{opacity:1,easing:"ease-in"}],100),d.animate([{transform:"translate(-20px)"},{transform:"translate(0px)"}],100),i.appendChild(d),a("list",n.list.concat(s))},u=({state:e,setState:r,$:n})=>a=>{if(e.selectedItem)return;r("selectedItem",Number(a.target.getAttribute("data-id"))),n.overlay.classList.replace("hidden","block"),n.overlay.animate([{opacity:0},{opacity:1,easing:"ease-in"}],200);const t=a.target;t.classList.add(...p),t.animate([{height:"2.5rem"},{height:"15rem"}],{duration:200,fill:"forwards"}),t.animate([{width:"24rem"},{width:"30rem"}],{duration:200,fill:"forwards"}),t.innerHTML="",insertHTML(t,`Pop-up view for ${e.selectedItem+1}`),window.scroll({top:0,left:0,behavior:"smooth"})},g=({state:e,setState:r,$:n})=>a=>{a.stopPropagation(),n.overlay.classList.replace("block","hidden"),n.overlay.animate([{opacity:1},{opacity:0,easing:"ease-in"}],200);const t=document.querySelector(`[data-id="${e.selectedItem}"]`);t.innerHTML="",t.animate([{opacity:"1"},{opacity:"0"}],{duration:300,fill:"forwards"}),t.animate([{height:"15rem"},{height:"2.5rem"}],{duration:300,fill:"forwards"}),t.animate([{width:"30rem"},{width:"24rem"}],{duration:300,fill:"forwards"}),setTimeout(()=>{t.animate([{opacity:"0"},{opacity:"1"}],{duration:300,fill:"forwards"}),t.classList.remove(...p),insertHTML(t,`<span> ${e.selectedItem+1}</span>`),r("selectedItem",null)},300)},o={$:{list:document.querySelector('[data-list="list"]'),addButton:document.querySelector('[data-list="add-row"]'),removeButton:document.querySelector('[data-list="remove-row"]'),listItems:document.querySelector(".list-item"),app:document.querySelector("#app"),overlay:document.querySelector('[data-list="overlay"]')},state:{selectedItem:null,list:Array.from(Array(10).keys())},setState(e,r){o.state.hasOwnProperty(e)&&(o.state[e]=r)},addListItemHoverListener(e){e.addEventListener("mouseover",c(o)),e.addEventListener("mouseout",m())},removeListItemHoverListener(e){e.removeEventListener("mouseover",c),e.removeEventListener("mouseout",m)},addListClickListener(e){e.addEventListener("click",u(o))},removeListClickListener(e){e.removeEventListener("click",u(o))},createListItem(e){const r=document.createElement("li");return r.classList.add("flex-1","p-4","m-2","bg-purple-100","shadow-lg","rounded-lg","cursor-pointer","h-10","w-96"),r.dataset.id=e,L(r,y(e+1)),o.addListItemHoverListener(r),o.addListClickListener(r),r},bindListActionEvents(){const{$:{addButton:e,removeButton:r,overlay:n}}=o;e.addEventListener("click",h(o)),r.addEventListener("click",v(o)),n.addEventListener("click",g(o))},init(){o.$.list.replaceChildren(...o.state.list.map(e=>o.createListItem(e))),o.$.list.childNodes.forEach((e,r)=>{e.animate([{opacity:0},{opacity:1,easing:"ease-in"}],r*100),e.animate([{transform:"translate(-20px)"},{transform:"translate(0px)"}],r*50)}),o.bindListActionEvents()}};o.init();
